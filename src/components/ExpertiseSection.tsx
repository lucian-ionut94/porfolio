"use client";

import { useTranslations } from "next-intl";
import { useState } from "react";
import { motion, AnimatePresence } from "framer-motion";
import ShinyText from "./reactbits/ShinyText";
import SplitText from "./reactbits/SplitText";

const expertiseItems = [
  {
    key: "development",
    icon: (
      <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5" />
      </svg>
    ),
    gradient: "from-emerald-500/20 via-green-500/10 to-transparent",
    accentColor: "bg-emerald-500/20",
    placeholderColor: "#10b981",
  },
  {
    key: "uiux",
    icon: (
      <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42" />
      </svg>
    ),
    gradient: "from-violet-500/20 via-purple-500/10 to-transparent",
    accentColor: "bg-violet-500/20",
    placeholderColor: "#8b5cf6",
  },
  {
    key: "branding",
    icon: (
      <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.455 2.456L21.75 6l-1.036.259a3.375 3.375 0 00-2.455 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" />
      </svg>
    ),
    gradient: "from-amber-500/20 via-orange-500/10 to-transparent",
    accentColor: "bg-amber-500/20",
    placeholderColor: "#f59e0b",
  },
];

const techStack = [
  {
    name: "HTML",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M1.5 0h21l-1.91 21.563L11.977 24l-8.564-2.438L1.5 0zm7.031 9.75l-.232-2.718 10.059.003.23-2.622L5.412 4.41l.698 8.01h9.126l-.326 3.426-2.91.804-2.955-.81-.188-2.11H6.248l.33 4.171L12 19.351l5.379-1.443.744-8.157H8.531z"/></svg>,
  },
  {
    name: "CSS",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M1.5 0h21l-1.91 21.563L11.977 24l-8.565-2.438L1.5 0zm17.09 4.413L5.41 4.41l.213 2.622 10.125.002-.255 2.716h-6.64l.24 2.573h6.182l-.366 3.523-2.91.804-2.956-.81-.188-2.11h-2.61l.29 3.855L12 19.288l5.373-1.53L18.59 4.414z"/></svg>,
  },
  {
    name: "JavaScript",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.704-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.054z"/></svg>,
  },
  {
    name: "TypeScript",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.42.276.69.394.57.24.905.348c.46.148.882.304 1.266.468.382.164.713.343.988.537.275.194.49.417.644.669.154.252.232.546.232.882 0 .48-.093.881-.28 1.202-.187.32-.448.59-.785.806a3.61 3.61 0 0 1-1.183.467 6.065 6.065 0 0 1-1.463.17c-.645 0-1.235-.073-1.769-.219a5.54 5.54 0 0 1-1.488-.645v-2.63a4.498 4.498 0 0 0 .803.488 5.785 5.785 0 0 0 1.823.587c.304.038.58.057.826.057.284 0 .536-.026.756-.078.22-.053.41-.132.572-.237.16-.106.285-.238.374-.396a1.02 1.02 0 0 0 .134-.524 1.01 1.01 0 0 0-.175-.573 1.82 1.82 0 0 0-.495-.452 5.107 5.107 0 0 0-.77-.378 31.604 31.604 0 0 0-1.003-.373 8.693 8.693 0 0 1-1.154-.496 3.715 3.715 0 0 1-.858-.581 2.275 2.275 0 0 1-.534-.776 2.695 2.695 0 0 1-.182-1.036c0-.443.094-.835.281-1.174.188-.34.453-.634.793-.882a3.68 3.68 0 0 1 1.217-.568 5.491 5.491 0 0 1 1.544-.204zm-7.832 1.133H14.3v2.147H11.6v6.81H8.963V13.03H6.3V10.883h4.356z" /></svg>,
  },
  {
    name: "PHP",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M7.01 10.207h-.944l-.515 2.648h.838c.556 0 .97-.105 1.242-.314.272-.21.455-.559.55-1.049.092-.47.05-.802-.124-.995-.175-.193-.523-.29-1.047-.29zM12 5.688C5.373 5.688 0 8.514 0 12s5.373 6.313 12 6.313S24 15.486 24 12c0-3.486-5.373-6.312-12-6.312zm-3.26 7.451c-.261.25-.575.438-.917.551-.336.108-.765.164-1.285.164H5.357l-.327 1.681H3.652l1.23-6.326h2.65c.797 0 1.378.209 1.744.628.366.418.49 1.005.374 1.757a3.023 3.023 0 0 1-.373 1.047c-.168.296-.398.555-.537.498zm5.019-.398l.659-3.388h1.375l-.174.893c.217-.32.474-.572.77-.754.297-.182.6-.273.909-.273.018 0 .04.002.066.003l-.326 1.673a2.36 2.36 0 0 0-.203-.012c-.468 0-.855.143-1.16.428-.304.285-.508.694-.61 1.228l-.449 2.31h-1.375l.518-2.108zm-1.018-4.12h-1.376l-1.23 6.326h1.375L13.74 8.62zm5.534 1.587h-.944l-.515 2.648h.838c.557 0 .971-.105 1.242-.314.272-.21.455-.559.55-1.049.093-.47.05-.802-.123-.995-.176-.193-.524-.29-1.048-.29zm1.543 1.545c-.261.25-.575.438-.917.551-.336.108-.765.164-1.285.164h-1.18l-.328 1.681H16.73l1.23-6.326h2.65c.797 0 1.378.209 1.744.628.366.418.49 1.005.373 1.757a3.023 3.023 0 0 1-.373 1.047c-.168.296-.398.555-.536.498z" /></svg>,
  },
  {
    name: "Laravel",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M23.642 5.43a.364.364 0 0 1 .014.1v5.149c0 .135-.073.26-.189.326l-4.323 2.49v4.934a.378.378 0 0 1-.188.326L9.93 23.949a.316.316 0 0 1-.066.027c-.008.002-.016.008-.024.01a.348.348 0 0 1-.192 0c-.011-.002-.02-.008-.03-.012-.02-.008-.042-.014-.062-.025L.533 18.755a.376.376 0 0 1-.189-.326V2.974c0-.033.005-.066.014-.098.003-.012.01-.02.014-.032a.369.369 0 0 1 .023-.058c.004-.013.015-.022.023-.033l.033-.045c.012-.01.025-.018.037-.027.014-.012.027-.024.041-.034H.53L5.043.05a.375.375 0 0 1 .375 0L9.93 2.647h.002c.015.01.027.021.04.033l.038.027c.013.014.02.03.033.045.008.011.02.021.025.033.01.02.017.038.024.058.003.011.01.021.013.032.01.031.014.064.014.098v9.652l3.76-2.164V5.527c0-.033.004-.066.013-.098.003-.01.01-.02.013-.032a.487.487 0 0 1 .024-.059c.007-.012.018-.02.025-.033.012-.015.021-.03.033-.043.012-.012.025-.02.037-.028.015-.012.027-.024.041-.034h.001l4.513-2.598a.375.375 0 0 1 .375 0l4.513 2.598c.016.01.027.021.042.031.012.01.025.019.036.03.013.014.022.03.034.044.008.012.019.021.024.033a.3.3 0 0 1 .024.06c.006.01.012.021.015.032zm-.74 5.032V6.179l-1.578.908-2.182 1.256v4.283zm-4.51 7.75v-4.287l-2.147 1.225-6.126 3.498v4.325zM1.093 3.624v14.588l8.273 4.761v-4.325l-4.322-2.445-.002-.003H5.04c-.014-.01-.025-.021-.04-.031-.011-.01-.024-.018-.035-.027l-.001-.002c-.013-.012-.021-.025-.031-.04-.01-.011-.021-.022-.028-.036h-.002c-.008-.014-.013-.031-.02-.047-.006-.012-.015-.023-.018-.037l-.001-.001c-.005-.015-.006-.032-.008-.048-.003-.013-.005-.025-.005-.038V7.088L2.67 5.932l-1.578-.908zm4.325-2.474L1.66 3.297l3.757 2.163 3.758-2.163zm2.076 14.776l2.183-1.256V3.624L7.673 4.53 5.49 5.787v11.082zm10.838-12.33-3.756 2.163 3.756 2.163 3.758-2.164zm-.376 4.978L15.774 7.32l-1.578-.908v4.283l2.183 1.256 1.577.908zm-8.65 9.654l5.51-3.146 2.756-1.572-3.752-2.16-4.323 2.49-3.953 2.277z" /></svg>,
  },
  {
    name: "React",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.31 0-.6.045-.87.126a1.88 1.88 0 0 0-1.03.678c-.865 1.202-.564 3.747.793 6.67-2.322 1.136-3.996 2.653-3.996 4.196 0 1.544 1.674 3.06 3.996 4.196-1.357 2.923-1.658 5.468-.793 6.67.258.358.618.604 1.03.678.27.081.56.126.87.126 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.31 0 .6-.045.87-.127.412-.074.772-.32 1.03-.678.865-1.202.564-3.747-.793-6.67C22.326 15.064 24 13.548 24 12.004c0-1.543-1.674-3.06-3.996-4.196 1.357-2.923 1.658-5.468.793-6.67a1.88 1.88 0 0 0-1.03-.678 2.56 2.56 0 0 0-.87-.126zm-.722 10.666c-.2.375-.445.73-.697 1.073-.6.074-1.214.11-1.832.11-.617 0-1.234-.037-1.838-.11a14.517 14.517 0 0 1-.7-1.073 14.456 14.456 0 0 1-.695-1.327c.2-.375.445-.73.697-1.073.6-.074 1.214-.11 1.832-.11.618 0 1.234.037 1.838.11.252.342.496.698.7 1.073.198.372.38.753.542 1.14a14.558 14.558 0 0 1-.847.187zm-9.18-7.39c.34-.196.698-.37 1.062-.523.34.4.694.786 1.063 1.148-.37.362-.724.748-1.063 1.148a14.558 14.558 0 0 1-1.062-.523 14.56 14.56 0 0 1 0-2.25zm1.062 9.44a14.56 14.56 0 0 1-1.062-.523 14.56 14.56 0 0 1 0-2.25c.34-.196.698-.37 1.062-.523.34.4.694.786 1.063 1.148-.37.362-.724.748-1.063 1.148zm8.118 2.765c-.617 0-1.234-.037-1.838-.11a14.517 14.517 0 0 1-.7-1.073 14.456 14.456 0 0 1-.695-1.327c.2-.375.445-.73.697-1.073.6-.074 1.214-.11 1.832-.11.618 0 1.234.037 1.838.11.252.342.496.698.7 1.073.198.372.38.753.542 1.14a14.456 14.456 0 0 1-.542 1.14 14.517 14.517 0 0 1-.7 1.073c-.604.073-1.22.11-1.834.11zm4.56-4.64a14.56 14.56 0 0 1-1.063.523 14.558 14.558 0 0 1-1.063-1.148c.37-.362.724-.748 1.063-1.148.364.153.722.327 1.063.523a14.56 14.56 0 0 1 0 2.25zm-1.063-5.515a14.558 14.558 0 0 1 1.063.523 14.56 14.56 0 0 1 0 2.25 14.56 14.56 0 0 1-1.063.523 14.558 14.558 0 0 1-1.063-1.148c.37-.362.724-.748 1.063-1.148z"/></svg>,
  },
  {
    name: "Next.js",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M11.572 0c-.176 0-.31.001-.358.007a19.76 19.76 0 0 1-.364.033C7.443.346 4.25 2.185 2.228 5.012a11.875 11.875 0 0 0-2.119 5.243c-.096.659-.108.854-.108 1.747s.012 1.089.108 1.748c.652 4.506 3.86 8.292 8.209 9.695.779.25 1.6.422 2.534.525.363.04 1.935.04 2.299 0 1.611-.178 2.977-.577 4.323-1.264.207-.106.247-.134.219-.158-.02-.013-.9-1.193-1.955-2.62l-1.919-2.592-2.404-3.558a338.739 338.739 0 0 0-2.422-3.556c-.009-.002-.018 1.579-.023 3.51-.007 3.38-.01 3.515-.052 3.595a.426.426 0 0 1-.206.214c-.075.037-.14.044-.495.044H7.81l-.108-.068a.438.438 0 0 1-.157-.171l-.05-.106.006-4.703.007-4.705.072-.092a.645.645 0 0 1 .174-.143c.096-.047.134-.051.54-.051.478 0 .558.018.682.154.035.038 1.337 1.999 2.895 4.361a10760.433 10760.433 0 0 0 4.735 7.17l1.9 2.879.096-.063a12.317 12.317 0 0 0 2.466-2.163 11.944 11.944 0 0 0 2.824-6.134c.096-.66.108-.854.108-1.748 0-.893-.012-1.088-.108-1.747-.652-4.506-3.86-8.292-8.208-9.695a12.597 12.597 0 0 0-2.499-.523A33.119 33.119 0 0 0 11.572 0zm4.069 7.217c.347 0 .408.005.486.047a.473.473 0 0 1 .237.277c.018.06.023 1.365.018 4.304l-.006 4.218-.744-1.14-.746-1.14v-3.066c0-1.982.01-3.097.023-3.15a.478.478 0 0 1 .233-.296c.096-.05.13-.054.5-.054z" /></svg>,
  },
  {
    name: "WordPress",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M21.469 6.825c.84 1.537 1.318 3.3 1.318 5.175 0 3.979-2.156 7.456-5.363 9.325l3.295-9.527c.615-1.54.82-2.771.82-3.864 0-.405-.027-.78-.07-1.109m-7.981.105c.647-.034 1.23-.1 1.23-.1.579-.068.51-.92-.069-.886 0 0-1.742.138-2.845.138-1.04 0-2.784-.138-2.784-.138-.579-.034-.647.852-.068.886 0 0 .546.066 1.13.1l1.677 4.605-2.36 7.075L5.628 6.93c.648-.034 1.23-.1 1.23-.1.58-.068.512-.92-.068-.886 0 0-1.741.138-2.845.138-.2 0-.437-.006-.688-.015C4.869 3.46 8.19 1.651 12 1.651c2.831 0 5.413 1.084 7.346 2.858a5.66 5.66 0 0 0-.108-.006c-1.04 0-1.777.907-1.777 1.88 0 .873.502 1.612 1.038 2.487.402.703.869 1.604.869 2.906 0 .902-.347 1.95-.803 3.41l-1.054 3.519-3.815-11.34zM12 22.35c-1.258 0-2.465-.218-3.588-.618l3.81-11.063 3.904 10.698c.025.062.056.12.09.174A10.34 10.34 0 0 1 12 22.35M1.213 12c0-1.564.345-3.05.96-4.381l5.283 14.478C3.644 20.162 1.213 16.396 1.213 12M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0" /></svg>,
  },
  {
    name: "OpenCart",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 2.182A9.818 9.818 0 0 1 21.818 12 9.818 9.818 0 0 1 12 21.818 9.818 9.818 0 0 1 2.182 12 9.818 9.818 0 0 1 12 2.182zM8.727 7.09a1.636 1.636 0 1 0 0 3.273 1.636 1.636 0 0 0 0-3.273zm6.546 0a1.636 1.636 0 1 0 0 3.273 1.636 1.636 0 0 0 0-3.273zM7.09 13.636s1.35 3.273 4.91 3.273c3.558 0 4.909-3.273 4.909-3.273H7.09z" /></svg>,
  },
  {
    name: "Bootstrap",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M11.77 11.24H9.956V8.202h2.152c1.17 0 1.834.522 1.834 1.466 0 1.008-.773 1.572-2.174 1.572zm.324 1.206H9.956v3.348h2.231c1.459 0 2.232-.585 2.232-1.685s-.795-1.663-2.325-1.663z"/><path d="M14.058 0H3.578A3.578 3.578 0 0 0 0 3.578v16.845A3.578 3.578 0 0 0 3.578 24h16.845A3.578 3.578 0 0 0 24 20.423V3.578A3.578 3.578 0 0 0 20.422 0zm-2.956 17.01H8.134V6.99H11.4c2.304 0 3.816 1.164 3.816 3.01 0 1.26-.727 2.28-1.89 2.627v.065c1.44.237 2.43 1.26 2.43 2.8 0 2.018-1.576 3.518-4.654 3.518z"/></svg>,
  },
  {
    name: "Tailwind CSS",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M12.001 4.8c-3.2 0-5.2 1.6-6 4.8 1.2-1.6 2.6-2.2 4.2-1.8.913.228 1.565.89 2.288 1.624C13.666 10.618 15.027 12 18.001 12c3.2 0 5.2-1.6 6-4.8-1.2 1.6-2.6 2.2-4.2 1.8-.913-.228-1.565-.89-2.288-1.624C16.337 6.182 14.976 4.8 12.001 4.8zm-6 7.2c-3.2 0-5.2 1.6-6 4.8 1.2-1.6 2.6-2.2 4.2-1.8.913.228 1.565.89 2.288 1.624 1.177 1.194 2.538 2.576 5.512 2.576 3.2 0 5.2-1.6 6-4.8-1.2 1.6-2.6 2.2-4.2 1.8-.913-.228-1.565-.89-2.288-1.624C10.337 13.382 8.976 12 6.001 12z" /></svg>,
  },
  {
    name: "Figma",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M15.852 8.981h-4.588V0h4.588c2.476 0 4.49 2.014 4.49 4.49s-2.014 4.491-4.49 4.491zM12.735 7.51h3.117c1.665 0 3.019-1.355 3.019-3.019s-1.355-3.019-3.019-3.019h-3.117V7.51zm0 8.943h-4.588c-2.476 0-4.49-2.014-4.49-4.49s2.014-4.49 4.49-4.49h4.588v8.98zM4.147 12c0 1.665 1.354 3.019 3.019 3.019h3.117V8.981H7.166C5.501 8.981 4.147 10.335 4.147 12zm0 7.471c0 2.476 2.014 4.49 4.49 4.49 2.476 0 4.49-2.014 4.49-4.49v-4.49H8.637c-2.476 0-4.49 2.013-4.49 4.49zm0-14.942c0 2.476 2.014 4.49 4.49 4.49h4.588V0H8.637C6.161 0 4.147 2.014 4.147 4.529zm11.705 7.471c0 2.476 2.014 4.49 4.49 4.49s4.49-2.014 4.49-4.49-2.014-4.49-4.49-4.49-4.49 2.014-4.49 4.49zm1.471 0c0-1.665 1.354-3.019 3.019-3.019s3.019 1.354 3.019 3.019-1.354 3.019-3.019 3.019-3.019-1.354-3.019-3.019z" /></svg>,
  },
  {
    name: "Photoshop",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M9.85 8.42c-.31-.12-.64-.17-.97-.16-.21 0-.4.01-.56.04v3.38c.19.04.39.05.59.04.98.03 1.93-.42 2.35-1.32.11-.24.17-.5.17-.77 0-.53-.21-.96-.57-1.21zm11.99-6.18H2.16C.97 2.24 0 3.21 0 4.4v15.2c0 1.19.97 2.16 2.16 2.16h19.68c1.19 0 2.16-.97 2.16-2.16V4.4c0-1.19-.97-2.16-2.16-2.16zM9.62 13.26c-.56.49-1.38.71-2.34.71-.22.01-.44 0-.66-.02v2.74H5.07V7.38c.65-.1 1.56-.17 2.52-.17.91 0 1.58.17 2.04.5.44.32.74.85.74 1.47.01.64-.21 1.19-.75 1.58v.02c.51.19.92.63 1.11 1.22.25.73.47 1.57.62 1.82h-1.64c-.12-.19-.31-.79-.53-1.56zm7.07 3.56c-.42.24-1.09.38-1.93.38-1.01.01-1.9-.24-2.49-.68l.38-1.37c.55.39 1.28.63 2.03.63.7 0 1.07-.27 1.07-.71 0-.42-.32-.66-1.12-.96-1.11-.39-1.83-1.01-1.83-1.99 0-1.15.97-2.03 2.57-2.03.83 0 1.43.17 1.87.36l-.37 1.34c-.3-.14-.81-.34-1.53-.34-.66 0-.98.29-.98.63 0 .43.38.62 1.25.96 1.19.43 1.72 1.06 1.72 2.01-.01.85-.53 1.55-1.64 1.77z"/></svg>,
  },
  {
    name: "GitHub",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" /></svg>,
  },
  {
    name: "Vercel",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M24 22.525H0l12-21.05 12 21.05z" /></svg>,
  },
];

interface ExpertiseImages {
  development?: string;
  uiux?: string;
  branding?: string;
}

interface ExpertiseSectionProps {
  expertiseImages?: ExpertiseImages;
}

export default function ExpertiseSection({ expertiseImages }: ExpertiseSectionProps) {
  const t = useTranslations("expertise");
  const [activeIndex, setActiveIndex] = useState<number | null>(0);

  const imageMap: Record<string, string | undefined> = {
    development: expertiseImages?.development,
    uiux: expertiseImages?.uiux,
    branding: expertiseImages?.branding,
  };

  return (
    <section className="py-10 md:py-16">
      <div className="max-w-7xl mx-auto px-6 sm:px-8">
        {/* Section label with ShinyText */}
        <motion.div
          initial={{ opacity: 0, y: 15 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          className="flex items-center gap-2 mb-4"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-primary" aria-hidden="true"><path d="M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z" /></svg>
          <ShinyText
            text={t("label")}
            className="text-xs font-semibold uppercase tracking-[0.1em] text-muted"
            speed={4}
          />
        </motion.div>

        {/* Title */}
        <SplitText
          text={t("title")}
          tag="h2"
          className="font-display text-3xl sm:text-4xl lg:text-5xl font-medium mb-10 tracking-tight"
          delay={50}
          duration={1.25}
          ease="power3.out"
          splitType="chars"
          from={{ opacity: 0, y: 40 }}
          to={{ opacity: 1, y: 0 }}
          threshold={0.1}
          rootMargin="-100px"
          textAlign="left"
        />

        {/* Two-column layout: Accordion left, Visual right */}
        <div className="grid lg:grid-cols-[1fr_1.3fr] gap-8 lg:gap-10 items-start">
          {/* Left - Accordion */}
          <div className="flex flex-col">
            {expertiseItems.map((item, index) => {
              const isOpen = activeIndex === index;
              const skills = t(`${item.key}_skills`).split(",");

              return (
                <motion.div
                  key={item.key}
                  initial={{ opacity: 0, y: 20 }}
                  whileInView={{ opacity: 1, y: 0 }}
                  viewport={{ once: true }}
                  transition={{ delay: index * 0.1 }}
                  className={`rounded-xl border mb-[15px] bg-[#111116] transition-all duration-300 ${
                    isOpen
                      ? "border-border"
                      : "border-transparent hover:border-border/50"
                  }`}
                >
                  <button
                    onClick={() => setActiveIndex(isOpen ? null : index)}
                    className="w-full flex items-center justify-between py-4 px-4 transition-all duration-300 group"
                  >
                    <div className="flex items-center gap-3">
                      <span
                        className={`w-8 h-8 rounded-lg flex items-center justify-center transition-colors ${
                          isOpen
                            ? "bg-primary/15 text-primary"
                            : "bg-surface-lighter text-muted group-hover:text-foreground"
                        }`}
                      >
                        {item.icon}
                      </span>
                      <span
                        className={`font-sans text-[16px] font-semibold transition-colors ${
                          isOpen
                            ? "text-white"
                            : "text-white group-hover:text-white"
                        }`}
                      >
                        {t(item.key)}
                      </span>
                    </div>
                    <svg
                      className={`w-4 h-4 transition-transform duration-300 ${
                        isOpen
                          ? "rotate-180 text-primary"
                          : "text-muted"
                      }`}
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                    </svg>
                  </button>

                  <AnimatePresence>
                    {isOpen && (
                      <motion.div
                        initial={{ height: 0, opacity: 0 }}
                        animate={{ height: "auto", opacity: 1 }}
                        exit={{ height: 0, opacity: 0 }}
                        transition={{ duration: 0.3, ease: "easeInOut" }}
                        className="overflow-hidden"
                      >
                        <div className="px-4 pb-4">
                          <p className="text-sm text-[#e5e5e5] leading-relaxed mb-3">
                            {t(`${item.key}_desc`)}
                          </p>
                          <div className="flex flex-wrap gap-2 mb-4">
                            {skills.map((skill) => (
                              <span
                                key={skill}
                                className="px-3 py-1 rounded-full text-xs text-muted bg-surface border border-border"
                              >
                                {skill}
                              </span>
                            ))}
                          </div>
                          {imageMap[item.key] && (
                            <div className="lg:hidden rounded-xl overflow-hidden aspect-[4/3]">
                              <img
                                src={imageMap[item.key]}
                                alt={t(item.key)}
                                className="w-full h-full object-cover"
                              />
                            </div>
                          )}
                        </div>
                      </motion.div>
                    )}
                  </AnimatePresence>
                </motion.div>
              );
            })}
          </div>

          {/* Right - Image area */}
          <motion.div
            initial={{ opacity: 0, x: 20 }}
            whileInView={{ opacity: 1, x: 0 }}
            viewport={{ once: true }}
            transition={{ delay: 0.2 }}
            className="hidden lg:block"
          >
            <div className="aspect-[4/3] rounded-2xl overflow-hidden relative bg-[#111116]">
              <AnimatePresence mode="wait">
                {(() => {
                  const current = activeIndex !== null ? expertiseItems[activeIndex] : expertiseItems[0];
                  const customImage = imageMap[current.key];
                  return (
                    <motion.div
                      key={current.key}
                      initial={{ opacity: 0, scale: 1.05 }}
                      animate={{ opacity: 1, scale: 1 }}
                      exit={{ opacity: 0, scale: 0.95 }}
                      transition={{ duration: 0.4 }}
                      className="absolute inset-0 flex items-center justify-center"
                      style={!customImage ? { background: `linear-gradient(135deg, ${current.placeholderColor}15, ${current.placeholderColor}05)` } : undefined}
                    >
                      {customImage ? (
                        <img
                          src={customImage}
                          alt={t(current.key)}
                          className="w-full h-full object-cover"
                        />
                      ) : (
                        <div className="text-center">
                          <div
                            className="w-24 h-24 mx-auto mb-4 rounded-2xl flex items-center justify-center"
                            style={{ backgroundColor: `${current.placeholderColor}20` }}
                          >
                            <span className="scale-[2] text-foreground/80">
                              {current.icon}
                            </span>
                          </div>
                          <p className="text-sm text-muted font-medium uppercase tracking-wider">
                            {t(current.key)}
                          </p>
                        </div>
                      )}
                    </motion.div>
                  );
                })()}
              </AnimatePresence>
            </div>
          </motion.div>
        </div>

        {/* Tech stack pills - scrolling */}
        <div className="mt-10 relative overflow-hidden">
          <div className="absolute left-0 top-0 bottom-0 w-16 bg-gradient-to-r from-background to-transparent z-10" />
          <div className="absolute right-0 top-0 bottom-0 w-16 bg-gradient-to-l from-background to-transparent z-10" />
          <div className="flex animate-marquee-slow whitespace-nowrap">
            {[...techStack, ...techStack].map((tech, i) => (
              <span
                key={i}
                className="inline-flex items-center gap-2 mx-2 px-4 py-2 rounded-full border border-border font-sans text-[14px] text-white bg-surface/50"
              >
                {tech.icon}
                {tech.name}
              </span>
            ))}
          </div>
        </div>
      </div>
    </section>
  );
}
