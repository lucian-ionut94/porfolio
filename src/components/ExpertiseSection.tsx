"use client";

import { useTranslations } from "next-intl";
import { useState } from "react";
import { motion, AnimatePresence } from "framer-motion";
import ShinyText from "./reactbits/ShinyText";
import SplitText from "./reactbits/SplitText";

const expertiseItems = [
  {
    key: "development",
    icon: (
      <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5" />
      </svg>
    ),
    gradient: "from-emerald-500/20 via-green-500/10 to-transparent",
    accentColor: "bg-emerald-500/20",
    placeholderColor: "#10b981",
  },
  {
    key: "uiux",
    icon: (
      <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42" />
      </svg>
    ),
    gradient: "from-violet-500/20 via-purple-500/10 to-transparent",
    accentColor: "bg-violet-500/20",
    placeholderColor: "#8b5cf6",
  },
  {
    key: "branding",
    icon: (
      <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.455 2.456L21.75 6l-1.036.259a3.375 3.375 0 00-2.455 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" />
      </svg>
    ),
    gradient: "from-amber-500/20 via-orange-500/10 to-transparent",
    accentColor: "bg-amber-500/20",
    placeholderColor: "#f59e0b",
  },
];

const techStack = [
  {
    name: "React",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.31 0-.6.045-.87.126a1.88 1.88 0 0 0-1.03.678c-.865 1.202-.564 3.747.793 6.67-2.322 1.136-3.996 2.653-3.996 4.196 0 1.544 1.674 3.06 3.996 4.196-1.357 2.923-1.658 5.468-.793 6.67.258.358.618.604 1.03.678.27.081.56.126.87.126 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.31 0 .6-.045.87-.127.412-.074.772-.32 1.03-.678.865-1.202.564-3.747-.793-6.67C22.326 15.064 24 13.548 24 12.004c0-1.543-1.674-3.06-3.996-4.196 1.357-2.923 1.658-5.468.793-6.67a1.88 1.88 0 0 0-1.03-.678 2.56 2.56 0 0 0-.87-.126zM16.878 2.61c.147.044.288.117.395.26.49.682.242 2.638-.737 5.056a23.9 23.9 0 0 0-2.085-1.85 24.07 24.07 0 0 0-2.712-.734c1.508-1.39 2.982-2.207 4.01-2.207.37 0 .65.063.848.167.06.017.138.043.217.073l.064.235zm-7.088.636c1.028 0 2.502.818 4.01 2.207a24.08 24.08 0 0 0-2.713.735 23.87 23.87 0 0 0-2.084 1.85c-.98-2.42-1.228-4.375-.738-5.058.107-.143.248-.216.395-.26.079-.03.157-.056.217-.073.198-.104.478-.167.848-.167l.065-.234zM12 8.08c.665 0 1.33.056 1.98.164.554.36 1.09.76 1.6 1.2.51.436.987.905 1.424 1.4a22.29 22.29 0 0 1-1.424 1.4c-.51.44-1.046.84-1.6 1.2a14.56 14.56 0 0 1-3.96 0 17.95 17.95 0 0 1-1.6-1.2 22.27 22.27 0 0 1-1.424-1.4c.437-.495.914-.964 1.424-1.4.51-.44 1.046-.84 1.6-1.2A14.56 14.56 0 0 1 12 8.08zm-5.424 3.924a22.29 22.29 0 0 1 1.424-1.4c-.51.44-1.046.84-1.6 1.2.05.067.114.134.176.2zm3.444 6.752c-1.508 1.39-2.982 2.207-4.01 2.207-.37 0-.65-.063-.848-.167a1.08 1.08 0 0 1-.217-.073 1.08 1.08 0 0 1-.395-.26c-.49-.682-.242-2.638.738-5.058a23.87 23.87 0 0 0 2.084 1.85c.858.58 1.77 1.09 2.713.735l-.065.766zm1.98.164a14.56 14.56 0 0 1-1.98-.164 17.95 17.95 0 0 1-1.6-1.2 22.29 22.29 0 0 1-1.424-1.4c.437-.495.914-.964 1.424-1.4.51-.44 1.046-.84 1.6-1.2a14.56 14.56 0 0 1 3.96 0c.554.36 1.09.76 1.6 1.2.51.436.987.905 1.424 1.4a22.27 22.27 0 0 1-1.424 1.4c-.51.44-1.046.84-1.6 1.2A14.56 14.56 0 0 1 12 18.92z" /></svg>,
  },
  {
    name: "Next.js",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M11.572 0c-.176 0-.31.001-.358.007a19.76 19.76 0 0 1-.364.033C7.443.346 4.25 2.185 2.228 5.012a11.875 11.875 0 0 0-2.119 5.243c-.096.659-.108.854-.108 1.747s.012 1.089.108 1.748c.652 4.506 3.86 8.292 8.209 9.695.779.25 1.6.422 2.534.525.363.04 1.935.04 2.299 0 1.611-.178 2.977-.577 4.323-1.264.207-.106.247-.134.219-.158-.02-.013-.9-1.193-1.955-2.62l-1.919-2.592-2.404-3.558a338.739 338.739 0 0 0-2.422-3.556c-.009-.002-.018 1.579-.023 3.51-.007 3.38-.01 3.515-.052 3.595a.426.426 0 0 1-.206.214c-.075.037-.14.044-.495.044H7.81l-.108-.068a.438.438 0 0 1-.157-.171l-.05-.106.006-4.703.007-4.705.072-.092a.645.645 0 0 1 .174-.143c.096-.047.134-.051.54-.051.478 0 .558.018.682.154.035.038 1.337 1.999 2.895 4.361a10760.433 10760.433 0 0 0 4.735 7.17l1.9 2.879.096-.063a12.317 12.317 0 0 0 2.466-2.163 11.944 11.944 0 0 0 2.824-6.134c.096-.66.108-.854.108-1.748 0-.893-.012-1.088-.108-1.747-.652-4.506-3.86-8.292-8.208-9.695a12.597 12.597 0 0 0-2.499-.523A33.119 33.119 0 0 0 11.572 0zm4.069 7.217c.347 0 .408.005.486.047a.473.473 0 0 1 .237.277c.018.06.023 1.365.018 4.304l-.006 4.218-.744-1.14-.746-1.14v-3.066c0-1.982.01-3.097.023-3.15a.478.478 0 0 1 .233-.296c.096-.05.13-.054.5-.054z" /></svg>,
  },
  {
    name: "TypeScript",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.42.276.69.394.57.24.905.348c.46.148.882.304 1.266.468.382.164.713.343.988.537.275.194.49.417.644.669.154.252.232.546.232.882 0 .48-.093.881-.28 1.202-.187.32-.448.59-.785.806a3.61 3.61 0 0 1-1.183.467 6.065 6.065 0 0 1-1.463.17c-.645 0-1.235-.073-1.769-.219a5.54 5.54 0 0 1-1.488-.645v-2.63a4.498 4.498 0 0 0 .803.488 5.785 5.785 0 0 0 1.823.587c.304.038.58.057.826.057.284 0 .536-.026.756-.078.22-.053.41-.132.572-.237.16-.106.285-.238.374-.396a1.02 1.02 0 0 0 .134-.524 1.01 1.01 0 0 0-.175-.573 1.82 1.82 0 0 0-.495-.452 5.107 5.107 0 0 0-.77-.378 31.604 31.604 0 0 0-1.003-.373 8.693 8.693 0 0 1-1.154-.496 3.715 3.715 0 0 1-.858-.581 2.275 2.275 0 0 1-.534-.776 2.695 2.695 0 0 1-.182-1.036c0-.443.094-.835.281-1.174.188-.34.453-.634.793-.882a3.68 3.68 0 0 1 1.217-.568 5.491 5.491 0 0 1 1.544-.204zm-7.832 1.133H14.3v2.147H11.6v6.81H8.963V13.03H6.3V10.883h4.356z" /></svg>,
  },
  {
    name: "Laravel",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M23.642 5.43a.364.364 0 0 1 .014.1v5.149c0 .135-.073.26-.189.326l-4.323 2.49v4.934a.378.378 0 0 1-.188.326L9.93 23.949a.316.316 0 0 1-.066.027c-.008.002-.016.008-.024.01a.348.348 0 0 1-.192 0c-.011-.002-.02-.008-.03-.012-.02-.008-.042-.014-.062-.025L.533 18.755a.376.376 0 0 1-.189-.326V2.974c0-.033.005-.066.014-.098.003-.012.01-.02.014-.032a.369.369 0 0 1 .023-.058c.004-.013.015-.022.023-.033l.033-.045c.012-.01.025-.018.037-.027.014-.012.027-.024.041-.034H.53L5.043.05a.375.375 0 0 1 .375 0L9.93 2.647h.002c.015.01.027.021.04.033l.038.027c.013.014.02.03.033.045.008.011.02.021.025.033.01.02.017.038.024.058.003.011.01.021.013.032.01.031.014.064.014.098v9.652l3.76-2.164V5.527c0-.033.004-.066.013-.098.003-.01.01-.02.013-.032a.487.487 0 0 1 .024-.059c.007-.012.018-.02.025-.033.012-.015.021-.03.033-.043.012-.012.025-.02.037-.028.015-.012.027-.024.041-.034h.001l4.513-2.598a.375.375 0 0 1 .375 0l4.513 2.598c.016.01.027.021.042.031.012.01.025.019.036.03.013.014.022.03.034.044.008.012.019.021.024.033a.3.3 0 0 1 .024.06c.006.01.012.021.015.032zm-.74 5.032V6.179l-1.578.908-2.182 1.256v4.283zm-4.51 7.75v-4.287l-2.147 1.225-6.126 3.498v4.325zM1.093 3.624v14.588l8.273 4.761v-4.325l-4.322-2.445-.002-.003H5.04c-.014-.01-.025-.021-.04-.031-.011-.01-.024-.018-.035-.027l-.001-.002c-.013-.012-.021-.025-.031-.04-.01-.011-.021-.022-.028-.036h-.002c-.008-.014-.013-.031-.02-.047-.006-.012-.015-.023-.018-.037l-.001-.001c-.005-.015-.006-.032-.008-.048-.003-.013-.005-.025-.005-.038V7.088L2.67 5.932l-1.578-.908zm4.325-2.474L1.66 3.297l3.757 2.163 3.758-2.163zm2.076 14.776l2.183-1.256V3.624L7.673 4.53 5.49 5.787v11.082zm10.838-12.33-3.756 2.163 3.756 2.163 3.758-2.164zm-.376 4.978L15.774 7.32l-1.578-.908v4.283l2.183 1.256 1.577.908zm-8.65 9.654l5.51-3.146 2.756-1.572-3.752-2.16-4.323 2.49-3.953 2.277z" /></svg>,
  },
  {
    name: "PHP",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M7.01 10.207h-.944l-.515 2.648h.838c.556 0 .97-.105 1.242-.314.272-.21.455-.559.55-1.049.092-.47.05-.802-.124-.995-.175-.193-.523-.29-1.047-.29zM12 5.688C5.373 5.688 0 8.514 0 12s5.373 6.313 12 6.313S24 15.486 24 12c0-3.486-5.373-6.312-12-6.312zm-3.26 7.451c-.261.25-.575.438-.917.551-.336.108-.765.164-1.285.164H5.357l-.327 1.681H3.652l1.23-6.326h2.65c.797 0 1.378.209 1.744.628.366.418.49 1.005.374 1.757a3.023 3.023 0 0 1-.373 1.047c-.168.296-.398.555-.537.498zm5.019-.398l.659-3.388h1.375l-.174.893c.217-.32.474-.572.77-.754.297-.182.6-.273.909-.273.018 0 .04.002.066.003l-.326 1.673a2.36 2.36 0 0 0-.203-.012c-.468 0-.855.143-1.16.428-.304.285-.508.694-.61 1.228l-.449 2.31h-1.375l.518-2.108zm-1.018-4.12h-1.376l-1.23 6.326h1.375L13.74 8.62zm5.534 1.587h-.944l-.515 2.648h.838c.557 0 .971-.105 1.242-.314.272-.21.455-.559.55-1.049.093-.47.05-.802-.123-.995-.176-.193-.524-.29-1.048-.29zm1.543 1.545c-.261.25-.575.438-.917.551-.336.108-.765.164-1.285.164h-1.18l-.328 1.681H16.73l1.23-6.326h2.65c.797 0 1.378.209 1.744.628.366.418.49 1.005.373 1.757a3.023 3.023 0 0 1-.373 1.047c-.168.296-.398.555-.536.498z" /></svg>,
  },
  {
    name: "Node.js",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M11.998 24c-.321 0-.641-.084-.922-.247l-2.936-1.737c-.438-.245-.224-.332-.08-.383.585-.203.703-.25 1.328-.604.065-.037.15-.023.218.017l2.256 1.339a.29.29 0 0 0 .272 0l8.795-5.076a.277.277 0 0 0 .134-.238V6.921a.28.28 0 0 0-.137-.242l-8.791-5.072a.278.278 0 0 0-.271 0L3.075 6.68a.28.28 0 0 0-.138.24v10.15c0 .099.053.19.137.241l2.409 1.392c1.307.654 2.108-.116 2.108-.89V7.787c0-.142.114-.253.256-.253h1.115c.139 0 .255.112.255.253v10.021c0 1.745-.95 2.745-2.604 2.745-.508 0-.909 0-2.026-.55l-2.307-1.33A1.85 1.85 0 0 1 1.36 17.07V6.921c0-.68.36-1.31.946-1.652l8.795-5.08a1.917 1.917 0 0 1 1.849 0l8.794 5.08c.585.342.946.973.946 1.652v10.15a1.85 1.85 0 0 1-.946 1.65l-8.795 5.076c-.28.163-.6.247-.922.247h-.029zm2.716-6.986c-3.768 0-4.556-1.732-4.556-3.182 0-.142.114-.253.256-.253h1.138c.126 0 .233.091.253.215.172 1.162.687 1.748 3.025 1.748 1.86 0 2.653-.421 2.653-1.408 0-.57-.224-.992-3.118-1.277-2.42-.238-3.917-.774-3.917-2.715 0-1.787 1.506-2.852 4.033-2.852 2.838 0 4.238 .985 4.414 3.103a.256.256 0 0 1-.064.19.262.262 0 0 1-.184.078h-1.143a.254.254 0 0 1-.247-.2c-.274-1.22-.942-1.611-2.776-1.611-2.044 0-2.284.713-2.284 1.246 0 .647.28.836 3.019 1.2 2.712.36 4.019.87 4.019 2.777 0 1.93-1.608 3.032-4.414 3.032l-.107-.091z" /></svg>,
  },
  {
    name: "WordPress",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M21.469 6.825c.84 1.537 1.318 3.3 1.318 5.175 0 3.979-2.156 7.456-5.363 9.325l3.295-9.527c.615-1.54.82-2.771.82-3.864 0-.405-.027-.78-.07-1.109m-7.981.105c.647-.034 1.23-.1 1.23-.1.579-.068.51-.92-.069-.886 0 0-1.742.138-2.845.138-1.04 0-2.784-.138-2.784-.138-.579-.034-.647.852-.068.886 0 0 .546.066 1.13.1l1.677 4.605-2.36 7.075L5.628 6.93c.648-.034 1.23-.1 1.23-.1.58-.068.512-.92-.068-.886 0 0-1.741.138-2.845.138-.2 0-.437-.006-.688-.015C4.869 3.46 8.19 1.651 12 1.651c2.831 0 5.413 1.084 7.346 2.858a5.66 5.66 0 0 0-.108-.006c-1.04 0-1.777.907-1.777 1.88 0 .873.502 1.612 1.038 2.487.402.703.869 1.604.869 2.906 0 .902-.347 1.95-.803 3.41l-1.054 3.519-3.815-11.34zM12 22.35c-1.258 0-2.465-.218-3.588-.618l3.81-11.063 3.904 10.698c.025.062.056.12.09.174A10.34 10.34 0 0 1 12 22.35M1.213 12c0-1.564.345-3.05.96-4.381l5.283 14.478C3.644 20.162 1.213 16.396 1.213 12M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0" /></svg>,
  },
  {
    name: "OpenCart",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 2.182A9.818 9.818 0 0 1 21.818 12 9.818 9.818 0 0 1 12 21.818 9.818 9.818 0 0 1 2.182 12 9.818 9.818 0 0 1 12 2.182zM8.727 7.09a1.636 1.636 0 1 0 0 3.273 1.636 1.636 0 0 0 0-3.273zm6.546 0a1.636 1.636 0 1 0 0 3.273 1.636 1.636 0 0 0 0-3.273zM7.09 13.636s1.35 3.273 4.91 3.273c3.558 0 4.909-3.273 4.909-3.273H7.09z" /></svg>,
  },
  {
    name: "Tailwind CSS",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M12.001 4.8c-3.2 0-5.2 1.6-6 4.8 1.2-1.6 2.6-2.2 4.2-1.8.913.228 1.565.89 2.288 1.624C13.666 10.618 15.027 12 18.001 12c3.2 0 5.2-1.6 6-4.8-1.2 1.6-2.6 2.2-4.2 1.8-.913-.228-1.565-.89-2.288-1.624C16.337 6.182 14.976 4.8 12.001 4.8zm-6 7.2c-3.2 0-5.2 1.6-6 4.8 1.2-1.6 2.6-2.2 4.2-1.8.913.228 1.565.89 2.288 1.624 1.177 1.194 2.538 2.576 5.512 2.576 3.2 0 5.2-1.6 6-4.8-1.2 1.6-2.6 2.2-4.2 1.8-.913-.228-1.565-.89-2.288-1.624C10.337 13.382 8.976 12 6.001 12z" /></svg>,
  },
  {
    name: "MySQL",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M16.405 5.501c-.115 0-.193.014-.274.033v.013h.014c.054.104.146.18.214.273.054.107.1.214.154.32l.014-.015c.094-.066.14-.172.14-.333-.04-.047-.046-.094-.08-.14-.04-.067-.126-.1-.18-.153zM5.77 18.695h-.927a50.854 50.854 0 0 0-.27-4.41h-.008l-1.41 4.41H2.45l-1.4-4.41h-.01c-.075 1.47-.133 2.951-.18 4.41H0c.087-1.98.186-3.97.3-5.946h1.24l1.37 4.213h.008l1.38-4.213h1.18c.12 2.005.218 3.99.29 5.946zm2.34-1.44c.26.28.48.484.48.484s-.222.203-.502.484c-.28.28-.502.484-.502.484s.222-.203.502-.484.522-.968.022-.968zm4.124-.02h-.927c-.004-.66-.014-1.32-.027-1.98h-.012l-.938 1.98h-.567l-.93-1.98h-.01c-.029.66-.043 1.32-.05 1.98H8.5c.017-.99.058-1.98.12-2.973h.787l.97 2.068h.01l.98-2.068h.78c.04.994.064 1.984.074 2.973zm2.76 0h-2.14c.04-.99.08-1.98.14-2.973h2.14l-.066.654h-1.44l-.015.483h1.42l-.063.66h-1.38l-.014.518h1.48zm.32-4.354c.16-.066.18-.133.253-.32.107-.187.147-.327.193-.5.013-.054.027-.1.04-.147l.013-.027c.107.017.193.114.24.2.047.087.094.174.127.267.04.12.08.227.127.333.04.107.094.207.14.307l.027.053c-.066.12-.12.24-.194.347-.073.113-.16.2-.26.273-.094.06-.2.094-.313.1-.114.007-.22-.014-.327-.06z" /></svg>,
  },
  {
    name: "PostgreSQL",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M23.557 14.945a.5.5 0 0 0-.2-.4c-.157-.1-.4-.125-.686-.08a3.463 3.463 0 0 0-1.24.445c-.149.093-.285.192-.357.263a8.522 8.522 0 0 1-1.297-.87c.427-1.126.7-2.39.786-3.643.068-.992.003-2.162-.326-2.997a5.728 5.728 0 0 0-.4-.78c.123-.27.227-.56.31-.856.233-.835.28-1.605.073-2.1-.158-.38-.49-.605-.937-.637-.355-.025-.762.068-1.15.26a.24.24 0 0 0-.04.014 6.075 6.075 0 0 0-2.184-.655c-.89-.09-1.782.06-2.577.435a6.09 6.09 0 0 0-2.085-.345c-.827.008-1.604.2-2.272.568-1.203-.372-2.318-.48-3.247-.333-.95.15-1.705.567-2.155 1.203a3.36 3.36 0 0 0-.437.824 4.142 4.142 0 0 0-.23 1.41c.018.785.205 1.603.53 2.38a9.094 9.094 0 0 0 .39.82c-.092.32-.162.642-.208.964-.13.907-.075 1.82.162 2.663.227.805.612 1.498 1.13 2.014a3.3 3.3 0 0 0-.102.457c-.092.574-.037 1.088.155 1.442.103.19.246.332.422.414.135.063.297.087.473.087.25 0 .535-.05.85-.157a5.96 5.96 0 0 0 1.09-.51c.268.21.568.39.898.537a5.49 5.49 0 0 0 2.262.496h.05c.56 0 1.1-.103 1.607-.3a5.36 5.36 0 0 0 2.096.3c.756-.04 1.467-.233 2.06-.557.59-.323 1.054-.765 1.37-1.28a3.15 3.15 0 0 0 .197-.426c.3.03.593.03.862-.004.47-.06.868-.22 1.14-.45.262-.224.398-.52.37-.846-.017-.22-.115-.416-.278-.567z" /></svg>,
  },
  {
    name: "Git",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.66 2.66c.645-.222 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835a2.013 2.013 0 0 1-.605-.406c-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187" /></svg>,
  },
  {
    name: "Docker",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M13.983 11.078h2.119a.186.186 0 0 0 .186-.186V9.006a.186.186 0 0 0-.186-.186h-2.119a.186.186 0 0 0-.187.186v1.886c0 .103.084.186.187.186zm-2.954-5.43h2.118a.186.186 0 0 0 .187-.185V3.576a.186.186 0 0 0-.187-.186h-2.118a.186.186 0 0 0-.187.186v1.886c0 .102.084.185.187.185zm0 2.716h2.118a.187.187 0 0 0 .187-.186V6.29a.187.187 0 0 0-.187-.186h-2.118a.187.187 0 0 0-.187.186v1.887c0 .102.084.186.187.186zm-2.93 0h2.12a.186.186 0 0 0 .186-.186V6.29a.186.186 0 0 0-.186-.186H8.1a.186.186 0 0 0-.185.186v1.887c0 .102.083.186.185.186zm-2.964 0h2.119a.186.186 0 0 0 .185-.186V6.29a.186.186 0 0 0-.185-.186H5.136a.186.186 0 0 0-.186.186v1.887c0 .102.084.186.186.186zm5.893 2.715h2.118a.186.186 0 0 0 .186-.186V9.006a.186.186 0 0 0-.186-.186h-2.118a.187.187 0 0 0-.187.186v1.886c0 .103.084.186.187.186zm-2.93 0h2.12a.185.185 0 0 0 .185-.186V9.006a.185.185 0 0 0-.185-.186h-2.12a.185.185 0 0 0-.184.186v1.886c0 .103.083.186.185.186zm-2.964 0h2.119a.186.186 0 0 0 .185-.186V9.006a.186.186 0 0 0-.185-.186H5.136a.186.186 0 0 0-.186.186v1.886c0 .103.084.186.186.186zm-2.92 0h2.12a.185.185 0 0 0 .184-.186V9.006a.185.185 0 0 0-.184-.186h-2.12a.185.185 0 0 0-.184.186v1.886c0 .103.082.186.185.186zm19.278-1.232c-.26-.248-.622-.458-.997-.57a4.16 4.16 0 0 0-.347-1.14c-.254-.403-.62-.687-1.044-.84-.102-.037-.217-.06-.34-.067a2.946 2.946 0 0 0-1.21.159 1.873 1.873 0 0 0-.5.202c-.093-.235-.204-.476-.335-.71-.275-.494-.59-.92-.94-1.27-.352-.35-.745-.64-1.17-.86a4.335 4.335 0 0 0-2.767-.34c-.502.09-.95.27-1.35.52-.123-.198-.27-.39-.436-.573-.432-.475-.984-.81-1.608-.98-1.177-.32-2.506-.104-3.76.61a7.76 7.76 0 0 0-1.235.89C3.226 3.07 2.166 4.46 1.525 6.1.885 7.74.673 9.594.94 11.397c.137.92.4 1.85.785 2.74.383.89.882 1.73 1.488 2.45a8.32 8.32 0 0 0 2.087 1.77c.782.467 1.627.773 2.49.9a5.515 5.515 0 0 0 1.303.037c.185.502.44.98.77 1.402.614.79 1.434 1.27 2.32 1.36.227.022.456.017.686-.015.506-.07.985-.27 1.402-.578.416-.31.76-.72 1.01-1.2a6.698 6.698 0 0 0 .518-1.607c.437-.028.87-.11 1.287-.243.756-.24 1.41-.653 1.92-1.195a4.178 4.178 0 0 0 .688-1.014c.212.006.416-.02.614-.08a1.69 1.69 0 0 0 .85-.58 1.43 1.43 0 0 0 .304-1.032c-.028-.306-.16-.576-.366-.796z" /></svg>,
  },
  {
    name: "Framer Motion",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M4 0h16v8h-8zM4 8h8l8 8H4zM4 16h8v8z" /></svg>,
  },
  {
    name: "Figma",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="currentColor"><path d="M15.852 8.981h-4.588V0h4.588c2.476 0 4.49 2.014 4.49 4.49s-2.014 4.491-4.49 4.491zM12.735 7.51h3.117c1.665 0 3.019-1.355 3.019-3.019s-1.355-3.019-3.019-3.019h-3.117V7.51zm0 8.943h-4.588c-2.476 0-4.49-2.014-4.49-4.49s2.014-4.49 4.49-4.49h4.588v8.98zM4.147 12c0 1.665 1.354 3.019 3.019 3.019h3.117V8.981H7.166C5.501 8.981 4.147 10.335 4.147 12zm0 7.471c0 2.476 2.014 4.49 4.49 4.49 2.476 0 4.49-2.014 4.49-4.49v-4.49H8.637c-2.476 0-4.49 2.013-4.49 4.49zm0-14.942c0 2.476 2.014 4.49 4.49 4.49h4.588V0H8.637C6.161 0 4.147 2.014 4.147 4.529zm11.705 7.471c0 2.476 2.014 4.49 4.49 4.49s4.49-2.014 4.49-4.49-2.014-4.49-4.49-4.49-4.49 2.014-4.49 4.49zm1.471 0c0-1.665 1.354-3.019 3.019-3.019s3.019 1.354 3.019 3.019-1.354 3.019-3.019 3.019-3.019-1.354-3.019-3.019z" /></svg>,
  },
  {
    name: "REST APIs",
    icon: <svg viewBox="0 0 24 24" className="w-4 h-4" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z" /></svg>,
  },
];

interface ExpertiseImages {
  development?: string;
  uiux?: string;
  branding?: string;
}

interface ExpertiseSectionProps {
  expertiseImages?: ExpertiseImages;
}

export default function ExpertiseSection({ expertiseImages }: ExpertiseSectionProps) {
  const t = useTranslations("expertise");
  const [activeIndex, setActiveIndex] = useState<number | null>(0);

  const imageMap: Record<string, string | undefined> = {
    development: expertiseImages?.development,
    uiux: expertiseImages?.uiux,
    branding: expertiseImages?.branding,
  };

  return (
    <section className="py-10 md:py-16">
      <div className="max-w-7xl mx-auto px-6 sm:px-8">
        {/* Section label with ShinyText */}
        <motion.div
          initial={{ opacity: 0, y: 15 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          className="flex items-center gap-2 mb-4"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-primary" aria-hidden="true"><path d="M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z" /></svg>
          <ShinyText
            text={t("label")}
            className="text-xs font-semibold uppercase tracking-[0.1em] text-muted"
            speed={4}
          />
        </motion.div>

        {/* Title */}
        <SplitText
          text={t("title")}
          tag="h2"
          className="font-display text-3xl sm:text-4xl lg:text-5xl font-medium mb-10 tracking-tight"
          delay={50}
          duration={1.25}
          ease="power3.out"
          splitType="chars"
          from={{ opacity: 0, y: 40 }}
          to={{ opacity: 1, y: 0 }}
          threshold={0.1}
          rootMargin="-100px"
          textAlign="left"
        />

        {/* Two-column layout: Accordion left, Visual right */}
        <div className="grid lg:grid-cols-[1fr_1.3fr] gap-8 lg:gap-10 items-start">
          {/* Left - Accordion */}
          <div className="flex flex-col">
            {expertiseItems.map((item, index) => {
              const isOpen = activeIndex === index;
              const skills = t(`${item.key}_skills`).split(",");

              return (
                <motion.div
                  key={item.key}
                  initial={{ opacity: 0, y: 20 }}
                  whileInView={{ opacity: 1, y: 0 }}
                  viewport={{ once: true }}
                  transition={{ delay: index * 0.1 }}
                  className={`rounded-xl border mb-[15px] bg-[#111116] transition-all duration-300 ${
                    isOpen
                      ? "border-border"
                      : "border-transparent hover:border-border/50"
                  }`}
                >
                  <button
                    onClick={() => setActiveIndex(isOpen ? null : index)}
                    className="w-full flex items-center justify-between py-4 px-4 transition-all duration-300 group"
                  >
                    <div className="flex items-center gap-3">
                      <span
                        className={`w-8 h-8 rounded-lg flex items-center justify-center transition-colors ${
                          isOpen
                            ? "bg-primary/15 text-primary"
                            : "bg-surface-lighter text-muted group-hover:text-foreground"
                        }`}
                      >
                        {item.icon}
                      </span>
                      <span
                        className={`font-sans text-[16px] font-semibold transition-colors ${
                          isOpen
                            ? "text-white"
                            : "text-white group-hover:text-white"
                        }`}
                      >
                        {t(item.key)}
                      </span>
                    </div>
                    <svg
                      className={`w-4 h-4 transition-transform duration-300 ${
                        isOpen
                          ? "rotate-180 text-primary"
                          : "text-muted"
                      }`}
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                    </svg>
                  </button>

                  <AnimatePresence>
                    {isOpen && (
                      <motion.div
                        initial={{ height: 0, opacity: 0 }}
                        animate={{ height: "auto", opacity: 1 }}
                        exit={{ height: 0, opacity: 0 }}
                        transition={{ duration: 0.3, ease: "easeInOut" }}
                        className="overflow-hidden"
                      >
                        <div className="px-4 pb-4">
                          <p className="text-sm text-[#e5e5e5] leading-relaxed mb-3">
                            {t(`${item.key}_desc`)}
                          </p>
                          <div className="flex flex-wrap gap-2 mb-4">
                            {skills.map((skill) => (
                              <span
                                key={skill}
                                className="px-3 py-1 rounded-full text-xs text-muted bg-surface border border-border"
                              >
                                {skill}
                              </span>
                            ))}
                          </div>
                          {imageMap[item.key] && (
                            <div className="lg:hidden rounded-xl overflow-hidden aspect-[4/3]">
                              <img
                                src={imageMap[item.key]}
                                alt={t(item.key)}
                                className="w-full h-full object-cover"
                              />
                            </div>
                          )}
                        </div>
                      </motion.div>
                    )}
                  </AnimatePresence>
                </motion.div>
              );
            })}
          </div>

          {/* Right - Image area */}
          <motion.div
            initial={{ opacity: 0, x: 20 }}
            whileInView={{ opacity: 1, x: 0 }}
            viewport={{ once: true }}
            transition={{ delay: 0.2 }}
            className="hidden lg:block"
          >
            <div className="aspect-[4/3] rounded-2xl overflow-hidden relative bg-[#111116]">
              <AnimatePresence mode="wait">
                {(() => {
                  const current = activeIndex !== null ? expertiseItems[activeIndex] : expertiseItems[0];
                  const customImage = imageMap[current.key];
                  return (
                    <motion.div
                      key={current.key}
                      initial={{ opacity: 0, scale: 1.05 }}
                      animate={{ opacity: 1, scale: 1 }}
                      exit={{ opacity: 0, scale: 0.95 }}
                      transition={{ duration: 0.4 }}
                      className="absolute inset-0 flex items-center justify-center"
                      style={!customImage ? { background: `linear-gradient(135deg, ${current.placeholderColor}15, ${current.placeholderColor}05)` } : undefined}
                    >
                      {customImage ? (
                        <img
                          src={customImage}
                          alt={t(current.key)}
                          className="w-full h-full object-cover"
                        />
                      ) : (
                        <div className="text-center">
                          <div
                            className="w-24 h-24 mx-auto mb-4 rounded-2xl flex items-center justify-center"
                            style={{ backgroundColor: `${current.placeholderColor}20` }}
                          >
                            <span className="scale-[2] text-foreground/80">
                              {current.icon}
                            </span>
                          </div>
                          <p className="text-sm text-muted font-medium uppercase tracking-wider">
                            {t(current.key)}
                          </p>
                        </div>
                      )}
                    </motion.div>
                  );
                })()}
              </AnimatePresence>
            </div>
          </motion.div>
        </div>

        {/* Tech stack pills - scrolling */}
        <div className="mt-10 relative overflow-hidden">
          <div className="absolute left-0 top-0 bottom-0 w-16 bg-gradient-to-r from-background to-transparent z-10" />
          <div className="absolute right-0 top-0 bottom-0 w-16 bg-gradient-to-l from-background to-transparent z-10" />
          <div className="flex animate-marquee-slow whitespace-nowrap">
            {[...techStack, ...techStack].map((tech, i) => (
              <span
                key={i}
                className="inline-flex items-center gap-2 mx-2 px-4 py-2 rounded-full border border-border font-sans text-[14px] text-white bg-surface/50"
              >
                {tech.icon}
                {tech.name}
              </span>
            ))}
          </div>
        </div>
      </div>
    </section>
  );
}
